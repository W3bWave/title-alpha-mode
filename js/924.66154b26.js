"use strict";(self["webpackChunktitl"]=self["webpackChunktitl"]||[]).push([[924],{1592:function(e,t,s){s.d(t,{c:function(){return z}});s(3248);var i=s(4108),l=s(9096),a=s.p+"img/titl.1d218dff.svg",c=s(9452),r=s(6920);const n=e=>((0,i.ED)("data-v-4fc71fca"),e=e(),(0,i.ii)(),e),d={class:"header"},o={class:"header__icon"},h={class:"navigation"},u={class:"navigation__ul"},g=(0,i.IL)('<li class="navigation__ul-item" data-v-4fc71fca><a href="/" class="navigation__ul-item-href" data-v-4fc71fca>Главная</a></li><li class="navigation__ul-item" data-v-4fc71fca><a href="#catalog" class="navigation__ul-item-href" data-v-4fc71fca>Каталог <img class="icon" src="'+c+'" alt="list" data-v-4fc71fca></a></li>',2),f={key:0,class:"navigation__ul-item"},m={class:"header__container"},p=n((()=>(0,i.QD)("form",{class:"header__container-form"},[(0,i.QD)("button",{class:"header__container-form-btn",type:"submit"}," ф "),(0,i.QD)("input",{class:"header__container-form-input",name:"find",type:"text",placeholder:"Поиск"})],-1))),v={class:"header__cart"},A=n((()=>(0,i.QD)("img",{class:"icon",src:r},null,-1))),D={key:0,class:"point"};function Q(e,t,s,c,r,n){const Q=(0,i.E1)("RouterLink");return(0,i.Wz)(),(0,i.An)("header",d,[(0,i.QD)("div",o,[(0,i.QD)("img",{onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"header__icon-item",src:a,alt:"titl.vue"})]),(0,i.QD)("nav",h,[(0,i.QD)("ul",u,[g,e.$store.state.user?(0,i.g1)("",!0):((0,i.Wz)(),(0,i.An)("li",f,[(0,i.QD)("a",{onClick:t[1]||(t[1]=t=>e.$CoreAPI.devAuth()),href:"#",class:"navigation__ul-item-href"},"Dev Auth")]))])]),(0,i.QD)("div",m,[p,(0,i.QD)("div",v,[(0,i.K2)(Q,{to:"/cart"},{default:(0,i.Ql)((()=>[A,(0,i.mY)(),r.cartAmount>0?((0,i.Wz)(),(0,i.An)("div",D,(0,l.WA)(r.cartAmount),1)):(0,i.g1)("",!0)])),_:1})])])])}var C={name:"HeaderComp",data(){return{cartAmount:-1}},mounted(){let e=this;this.$CoreAPI.on("cart-updated",(()=>{e.cartAmount=e.$CoreAPI.client_getTotalAmounts()})),e.cartAmount=e.$CoreAPI.client_getTotalAmounts()}},k=s(4100);const _=(0,k.c)(C,[["render",Q],["__scopeId","data-v-4fc71fca"]]);var z=_},2820:function(e,t,s){s.r(t),s.d(t,{default:function(){return fe}});var i=s(4108);function l(e,t,s,l,a,c){const r=(0,i.E1)("CatalogComp");return(0,i.Wz)(),(0,i.An)("div",null,[(0,i.K2)(r)])}s(3248);var a=s(7764),c=s(9096),r=s(9452),n=s(5012),d=s(1460),o=s.p+"img/cart_black.54187dc8.svg",h=s(6920),u=s.p+"img/product_none.ffe3a632.svg";const g=e=>((0,i.ED)("data-v-8cc10c30"),e=e(),(0,i.ii)(),e),f={key:0,class:"modal"},m={class:"article"},p=g((()=>(0,i.QD)("div",{class:"arrow1"},[(0,i.QD)("img",{src:r,height:"70"})],-1))),v=g((()=>(0,i.QD)("div",{class:"arrow2"},[(0,i.QD)("img",{src:r,height:"70"})],-1))),A=g((()=>(0,i.QD)("div",{class:"arrow3"},[(0,i.QD)("img",{src:r,height:"70"})],-1))),D=g((()=>(0,i.QD)("div",{class:"arrow4"},[(0,i.QD)("img",{src:r,height:"70"})],-1))),Q={class:"article__img_container"},C=["src"],k={key:1,src:n,height:"400"},_={class:"article__data"},z={class:"top"},W=g((()=>(0,i.QD)("img",{src:d,style:{width:"100px",height:"100px"}},null,-1))),P={class:"article__data-container"},y={class:"bottom"},b={class:"btns"},I=["disabled","onClick"],w={class:"price"},$=g((()=>(0,i.QD)("img",{src:o},null,-1))),S={key:1,disabled:"",class:"cart-btn"},x=g((()=>(0,i.QD)("img",{src:h},null,-1))),F=g((()=>(0,i.QD)("img",{src:h},null,-1))),M={class:"wrapper"},B={class:"filters"},E={class:"filter"},H=g((()=>(0,i.QD)("span",{class:"filter-name"},"ПОЛ",-1))),L={class:"filter-values"},Y={class:"filter"},G=g((()=>(0,i.QD)("span",{class:"filter-name"},"Категория",-1))),K={class:"filter-values"},T=["onClick"],O={class:"filter"},X=g((()=>(0,i.QD)("span",{class:"filter-name"},"Размер",-1))),j={class:"filter-values"},N=["onClick"],R={class:"products-view"},V={class:"filters-applied"},q={key:0,class:"filter-applied",style:{opacity:"0"}},J=g((()=>(0,i.QD)("span",{class:"filter-applied-name"},"empty",-1))),U=[J],Z={key:0,class:"filter-applied-name"},ee=["onClick"],te={class:"products"},se=["onClick"],ie=g((()=>(0,i.QD)("i",null,[(0,i.QD)("div",{class:"favorite"})],-1))),le={key:1,src:u,height:"300",alt:""},ae={class:"product-meta"};function ce(e,t,s,l,r,n){const d=(0,i.E1)("HeaderComp");return(0,i.Wz)(),(0,i.An)("div",null,[(0,i.K2)(a.Ox,{name:"fade"},{default:(0,i.Ql)((()=>[r.isShowModal?((0,i.Wz)(),(0,i.An)("div",f,[(0,i.QD)("div",{class:"backdrop",onClick:t[0]||(t[0]=e=>n.closeModal())}),(0,i.QD)("div",m,[p,v,A,D,(0,i.QD)("div",Q,[r.selectedProduct.images.length>0?((0,i.Wz)(),(0,i.An)("img",{key:0,src:e.$Helper.getImageSrc(r.selectedProduct,"front"),height:"400",alt:""},null,8,C)):((0,i.Wz)(),(0,i.An)("img",k))]),(0,i.QD)("div",_,[(0,i.QD)("div",z,[W,(0,i.QD)("div",P,[(0,i.QD)("span",null,(0,c.WA)(r.selectedProduct.category),1),(0,i.QD)("p",null,(0,c.WA)(r.selectedProduct.name),1)])]),(0,i.QD)("div",y,[(0,i.QD)("div",b,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(r.selectedProduct.sizes,(e=>((0,i.Wz)(),(0,i.An)("button",{class:(0,c.WN)(r.selectedSizeId==e.id?"btn active":"btn"),key:e.id,disabled:e.amount<1,onClick:t=>n.selectSize(e.id)},(0,c.WA)(e.sizename),11,I)))),128))]),(0,i.QD)("h4",w,(0,c.WA)(r.selectedProduct.price)+" руб",1),r.showAddBtn&&-1!=r.selectedSizeId?((0,i.Wz)(),(0,i.An)("button",{key:0,onClick:t[1]||(t[1]=e=>n.addCart()),class:"cart-btn"},[(0,i.mY)("Добавить в корзину "),$])):(0,i.g1)("",!0),r.showAddBtn&&-1==r.selectedSizeId?((0,i.Wz)(),(0,i.An)("button",S,[(0,i.mY)("Выберите размер "),x])):(0,i.g1)("",!0),r.showAddBtn?(0,i.g1)("",!0):((0,i.Wz)(),(0,i.An)("button",{key:2,class:"cart-btn added",onClick:t[2]||(t[2]=t=>e.$router.push("/cart"))},[(0,i.mY)("В корзине "),F]))])])])])):(0,i.g1)("",!0)])),_:1}),(0,i.K2)(d),(0,i.QD)("div",M,[(0,i.QD)("div",B,[(0,i.QD)("div",E,[H,(0,i.QD)("div",L,[(0,i.QD)("span",{class:"filter-value",onClick:t[3]||(t[3]=e=>n.filterGender(1))},"мужской"),(0,i.QD)("span",{class:"filter-value",onClick:t[4]||(t[4]=e=>n.filterGender(0))},"женский"),(0,i.QD)("span",{class:"filter-value",onClick:t[5]||(t[5]=e=>n.filterGender(2))},"унисекс")])]),(0,i.QD)("div",Y,[G,(0,i.QD)("div",K,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(r.cats,(e=>((0,i.Wz)(),(0,i.An)("span",{class:"filter-value",onClick:t=>n.filterCategory(e.id),key:e.id},(0,c.WA)(e.name),9,T)))),128))])]),(0,i.QD)("div",O,[X,(0,i.QD)("div",j,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(r.sizeMap,(e=>((0,i.Wz)(),(0,i.An)("span",{class:"filter-value",onClick:t=>n.filterSize(e),key:e},(0,c.WA)(e),9,N)))),128))])])]),(0,i.QD)("div",R,[(0,i.QD)("div",V,[Object.keys(r.filters).length<1?((0,i.Wz)(),(0,i.An)("div",q,U)):(0,i.g1)("",!0),((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(r.textFilters.split(";"),(e=>((0,i.Wz)(),(0,i.An)("div",{class:"filter-applied",key:e},[e.split("=")[0].length>0?((0,i.Wz)(),(0,i.An)("span",Z,[(0,i.mY)((0,c.WA)(e.split("=")[1]),1),(0,i.QD)("span",{class:"remove-filter",onClick:t=>n.removeFilter(e.split("=")[0])},"x",8,ee)])):(0,i.g1)("",!0)])))),128))]),(0,i.QD)("div",te,[((0,i.Wz)(!0),(0,i.An)(i.ae,null,(0,i.mi)(r.products,(t=>((0,i.Wz)(),(0,i.An)("div",{class:"element",onClick:e=>n.showModal(t),key:t.id},[ie,t.images.length>1?((0,i.Wz)(),(0,i.An)("div",{key:0,class:"image-container",style:(0,c.MN)(`--front-image: url(${e.$Helper.getImageSrc(t,"front")}); --back-image:url(${e.$Helper.getImageSrc(t,"back")})`)},null,4)):(0,i.g1)("",!0),t.images.length<1?((0,i.Wz)(),(0,i.An)("img",le)):(0,i.g1)("",!0),(0,i.QD)("div",ae,[(0,i.QD)("span",null,(0,c.WA)(t["name"]),1),(0,i.QD)("span",null,(0,c.WA)(t["price"])+" руб.",1)])],8,se)))),128))])])])])}var re=s(1592),ne={name:"catalog-comp",components:{HeaderComp:re.c},data(){return{selectedProduct:!1,selectedSizeId:-1,selectedProductCartElement:!1,products:[],sizeMap:["S","M","L","XL","XXL"],isShowModal:!1,showAddBtn:!1,cats:[],filters:{},textFilters:""}},mounted(){this.getProds(),this.$CoreAPI.getCategories().then((e=>{this.cats=e.categories}))},methods:{getProds(){this.textFilters="";let e="";function t(e,t){for(let s of t)if(s.id==e)return s.name}function s(e){return 0==e?"Женский":1==e?"Мужской":2==e?"Унисекс":void 0}if(console.log(this.filters),Object.keys(this.filters).length>0){e="&filter=enabled",this.textFilters="";for(let i in this.filters)e+=`&${i}=${this.filters[i]}`,"category"==i&&(this.textFilters+=`category=${t(this.filters[i],this.cats)};`),"gender"==i&&(this.textFilters+=`gender=${s(this.filters[i])};`),"size"==i&&(this.textFilters+=`size=${this.filters[i]};`);console.log(e)}this.$CoreAPI.getProducts(e).then((e=>{this.products=e.products}))},selectSize(e){this.selectedSizeId=e,this.checkCart()},minusFromCart(){this.$CoreAPI.client_updateProdAmount(this.selectedProduct.id,this.selectedSizeId,-1),this.checkCart()},plusToCart(){this.$CoreAPI.client_updateProdAmount(this.selectedProduct.id,this.selectedSizeId,1),this.checkCart()},closeModal(){this.isShowModal=!1,this.selectedProduct=!1,this.showAddBtn=!1,this.selectedSizeId=-1},addCart(){let e=this.selectedProduct;this.$CoreAPI.client_addToCart(e,this.selectedSizeId),this.showAddBtn=!1,this.checkCart()},checkCart(){let e=this.selectedProduct;console.log(e),this.$CoreAPI.client_getFromCart(e.id,this.selectedSizeId)?(this.showAddBtn=!1,this.selectedProductCartElement=this.$CoreAPI.client_getFromCart(e.id,this.selectedSizeId)):this.showAddBtn=!0},showModal(e){this.selectedProduct=e,this.isShowModal=!0,this.checkCart()},filterCategory(e){this.filters.category=e,this.getProds()},filterGender(e){this.filters.gender=e,this.getProds()},filterSize(e){this.filters.size=e,this.getProds()},removeFilter(e){delete this.filters[e],this.getProds()}}},de=s(4100);const oe=(0,de.c)(ne,[["render",ce],["__scopeId","data-v-8cc10c30"]]);var he=oe,ue={name:"LandingView",components:{CatalogComp:he}};const ge=(0,de.c)(ue,[["render",l]]);var fe=ge},9452:function(e,t,s){e.exports=s.p+"img/arrow.391818fb.svg"},6920:function(e,t,s){e.exports=s.p+"img/cart.70aa1c04.svg"},1460:function(e,t,s){e.exports=s.p+"img/heart.497ef48f.svg"},5012:function(e,t,s){e.exports=s.p+"img/product_none.bc322c17.png"}}]);
//# sourceMappingURL=924.66154b26.js.map